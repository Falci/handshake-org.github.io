#!/bin/sh
# This command builds the jsdoc documentation
# for hsd. If an options, git ref is passed
# as an argument it will build the documentation
# from that ref. Otherwise, the master branch
# source is used.

set -e

# enter project root dir
cd `dirname $0`
cd ../


echo "Ppdating git@github.com:handshake-org/hsd.git"
git submodule update --init --recursive

echo "Building docs"
cd ./hsd
rm -rf hsd/docs
jsdoc -c jsdoc.json
cd ..

echo "Copying docs"
rm -rf ./build/docs
cp -r ./hsd/docs/reference ./build/docs
